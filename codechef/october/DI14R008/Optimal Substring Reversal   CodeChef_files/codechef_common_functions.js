function fillStateDropDown(t,e){var o="";if(t!=null){for(var n=0;n<t.length;n++){o+='<option value="'+t[n].state_id+'">'+t[n].state_name+"</option>"}}else{o+='<option value="N.A">N.A</option>'}if(e.length>0){e.html(o);return false}}function getStateFromCountry(t,e,o){$.ajax({type:"GET",beforeSend:function(){if($("#state-loader").length){$("#state-loader").html("Loading...")}else{e.append('<span id="state-loader">Loading...</span>')}},url:"/codechef_register/js/get/state/"+t+"/",dataType:"json",success:function(t){fillStateDropDown(t,o)},complete:function(){$("#state-loader").html("")}})}function lockFormSubmission(t){t.attr("disabled","disabled");return false}function unlockFormSubmission(t){t.removeAttr("disabled");return false}function checkValInSuggestions(t,e,o){var n=t.val();var i=$.inArray(n,e);var a="";if(i==-1){if(o){a=$(t).tooltip({content:"You must select a value from the suggestions provided.",show:{effect:"blind",duration:800},position:{at:"right top-18"},close:function(){$(this).tooltip("destroy")},tooltipClass:"error cc_tooltip"});a.tooltip("open")}else{if($("div.error",t.parent()).length<1){t.after('<div class="error">You must select a value from the suggestions provided.</div>')}}lockFormSubmission($("input[type=submit]"));t.val("")}else if(i>-1){if(!o){if($("div.error",t.parent()).length>0){$("div.error",t.parent()).remove()}}unlockFormSubmission($("input[type=submit]"))}}function countryAutocompleteHandler(t){var e=[];$(this).autocomplete({delay:10,minLength:2,source:"/codechef_register/autocomplete/country/",focus:function(t,e){t.preventDefault()}}).data("uiAutocomplete")._renderItem=function(t,e){return $("<li>").data("ui-autocomplete-item",e).append("<a>"+"<img src='"+e.thumb+"' /><span>"+e.label+"</span></a>").appendTo(t)}}function cityAutocompleteHandler(t,e,o){var n=[];$(this).autocomplete({delay:10,minLength:2,focus:function(t,e){t.preventDefault()},source:function(o,i){var a=t.val();var r=e.val();var u=o.term;$.ajax({url:"/codechef_register/autocomplete/city/"+a+"/"+r+"/"+u,dataType:"json",success:function(t){n=[];$.each(t,function(t,e){n.push(t)});i(n)},error:function(){i(n)}})}}).addClass("ui-widget ui-widget-content").focusout(function(){checkValInSuggestions($(this),n,o)})}function institutionAutocompleteHandler(t,e,o,n,i,a){var r=[];var u="";if(a){u="/codechef_register/autocomplete/institution?m=aprv"}else{u="/codechef_register/autocomplete/institution?m=strict"}$(this).autocomplete({delay:10,minLength:2,autoFocus:false,source:u,focus:function(t,e){t.preventDefault()},search:function(t,e){if(n!==null){n.val(0)}},response:function(e,o){r=o.content;if(!t){$.each(o.content,function(t,e){o.content[t].label=e.value})}},select:function(t,i){if(e){if(i.item.value=="Other"){o.css("display","block");$("input",o).focusout(s).keyup(s)}else{o.unbind("keyup");o.unbind("focusout");$("input",o).val("");o.css("display","none");if(n!==null){n.val(i.item.id)}}}else{if(n!==null){n.val(i.item.id)}}}}).addClass("ui-widget ui-widget-content").focusout(function(){var t=$.map(r,function(t){return t["value"]});checkValInSuggestions($(this),t,i)});function s(){if($(this).val()===""||$(this).val()===0){$(this).attr("class","error");if($("div.error",$(this).parent()).length<1){$(this).after('<div class="error">You haven\'t entered anything.</div>')}lockFormSubmission($("input[type=submit]"))}else{$(this).removeAttr("class");$("div.error",$(this).parent()).remove();unlockFormSubmission($("input[type=submit]"))}return false}}function organisationAutocompleteHandler(t){$(this).autocomplete({delay:10,minLength:2,autoFocus:false,source:"/codechef_register/autocomplete/organisation",select:function(e,o){t.val(o.item.id)},search:function(e,o){t.val(0)},focus:function(t,e){t.preventDefault()}}).addClass("ui-widget ui-widget-content")}function supportsHtml5Storage(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(t){return false}}function createCookie(t,e,o){if(o){var n=new Date;n.setTime(n.getTime()+o*24*60*60*1e3);var i="; expires="+n.toGMTString()}else var i="";document.cookie=t+"="+e+i+"; path=/"}function readCookie(t){var e=t+"=";var o=document.cookie.split(";");for(var n=0;n<o.length;n++){var i=o[n];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(e)==0)return i.substring(e.length,i.length)}return null}function eraseCookie(t){createCookie(t,"",-1)}